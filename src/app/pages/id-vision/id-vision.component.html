<!-- <swiper-container init="false" class="custom-swiper"> 
  <swiper-slide>
    <div class="content">
      <div class="head">
        <h2 class="p-justify">Verifiquemos tu identidad</h2>
        <p class="p-justify">Para completar tu verificaci칩n, por favor ingresa tu n칰mero de identificaci칩n (DPI).</p>
        <ion-item class="rounded-input">
          <ion-input #dpi type="number" disabled="true" placeholder="Digita tu n칰mero de DPI"></ion-input>
        </ion-item>
      </div>
      <ion-grid class="verify-container">
        <ion-row>
          <ion-row>
            <div class="image-container">
              <img src="assets/imagesIdvision/documentsImage.png" alt="" />
            </div>
            <div class="container-text">
              <p>Sube fotos de documentos que prueben tu identidad</p>
            </div>
          </ion-row>
        </ion-row>
        <ion-row>
          <ion-row>
            <div class="image-container">
              <img src="assets/imagesIdvision/rostroImage.png" alt="" />
            </div>
            <div class="container-text">
              <p>Graba un video selfie mientras lees el texto en voz alta</p>
            </div>
          </ion-row>
        </ion-row>
      </ion-grid>

      <div class="fixed-footer">
        <ion-button class="custom-button" expand="block" (click)="handleClick()">Empecemos</ion-button>
      </div>
    </div>
  </swiper-slide>
  <swiper-slide *ngIf="showDpiFront">
    <div class="content">
      <div class="head">
        <h2>Coloca la parte frontal de tu DPI</h2>
        <p class="p-center p-info">
          Evita sombras, reflejos y coloca tu documento dentro del recuadro.
        </p>
       
      </div>
      <div class="dpi-container">
        <video id="dpiFront" autoplay loop muted playsinline  width="1280" height="300">
          <source src="assets/imagesIdvision/Dpi-front.mp4" type="video/mp4">
        </video>
      </div>

      <div class="fixed-footer">
        <ion-button class="custom-button" expand="block" (click)="openCameraOverlayFrontal()">Tomar una foto</ion-button>
      </div>
    </div>
  </swiper-slide>
  <swiper-slide *ngIf="showDpiBack">
    <div class="content">
      <div class="head">
        <h2>Coloca el reverso de tu DPI</h2>
        <p class="p-center p-info">
          Evita sombras, reflejos y coloca tu documento dentro del recuadro.</p>
      </div>
      <div class="dpi-container">
        <video id="dpiBack" autoplay loop muted playsinline width="1280" height="300">
          <source src="assets/imagesIdvision/Dpi-back-1.mp4" type="video/mp4">
        </video>
      </div>

      <div class="fixed-footer">
        <ion-button class="custom-button" expand="block" (click)="openCameraOverlayTrasero()">Tomar una foto</ion-button>
      </div>
    </div>
  </swiper-slide>
  <swiper-slide *ngIf="showVideoSelfie">
    <div class="content">
      <div class="head">
        <h2>Video Selfie</h2>
        <p class="p-justify">Graba un breve video para completar tu proceso de identificaci칩n.</p>
      </div>
      <ion-grid class="verify-container">
        <br/>
        <br/>
        <br/>
        <ion-row>
          <ion-row>
            <div class="image-container">
              <img src="assets/imagesIdvision/Foco.png" alt="" />
            </div>
            <div class="container-text">
              <p>
                Si est치s en interiores, aseg칰rate de que la luz est칠 frente a ti, no detr치s.
              </p>
            </div>
          </ion-row>
        </ion-row>
        <ion-row>
          <ion-row>
            <div class="image-container">
              <img src="assets/imagesIdvision/rostroImage.png" alt="" />
            </div>
            <div class="container-text">
              <p>
                Aseg칰rate de que tu rostro sea visible y de no usar anteojos ni
                sombreros.
              </p>
            </div>
          </ion-row>
        </ion-row>
        <ion-row>
          <ion-row>
            <div class="image-container">
              <img src="assets/imagesIdvision/Selfie-rostro.png" alt="" />
            </div>
            <div class="container-text">
              <p>
                Activa la c치mara frontal y verifica que tu rostro est칠 bien centrado..
              </p>
            </div>
          </ion-row>
        </ion-row>
      </ion-grid>

      <div class="fixed-footer">
        <ion-button class="custom-button" expand="block" (click)="openAcuerdoVideo()">Abrir la c치mara</ion-button>
      </div>
    </div>
  </swiper-slide>
  <swiper-slide>
    <div class="content">
      <ion-col class="col-confirmation" *ngIf="isAllValid()">
        <ion-item color="white">
          <p class="font-confirmation">
            Informaci칩n procesada de manera correcta
          </p>
        </ion-item>
        <ion-item color="white" class="image-item">
          <img src="assets/imagesIdvision/blue-check.png" alt="" />
        </ion-item>
      </ion-col>

      <ion-col class="col-confirmation" *ngIf="!isAllValid()">
        <ion-item color="white">
          <p class="font-confirmation">
            Ocurri칩 un error al procesar la informaci칩n 
          </p>
        </ion-item>
        <ion-item color="white" class="image-item">
          <img src="assets/imagesIdvision/blue-check.png" alt="" />
        </ion-item>
      </ion-col>
      <ion-item color="white">
        <div class="fixed-footer">
          <ion-button class="custom-button" expand="block" (click)="handleExit()">Salir</ion-button>
        </div>
      </ion-item>
    </div>
  </swiper-slide>
</swiper-container> -->

<swiper-container init="false" class="custom-swiper">

  <!-- 游댳 PASO 1: Verificaci칩n de Identidad (Est치tico) -->
  <swiper-slide>
    <div class="content">
      <div class="head">
        <h2 class="p-justify">Verifiquemos tu identidad</h2>
        <p class="p-justify">Para completar tu verificaci칩n, por favor ingresa tu n칰mero de identificaci칩n (DPI).</p>
        <ion-item class="rounded-input">
          <ion-input #dpi type="number" disabled="true" placeholder="Digita tu n칰mero de DPI"></ion-input>
        </ion-item>
      </div>
      <ion-grid class="verify-container">
        <ion-row>
          <div class="image-container">
            <img src="assets/imagesIdvision/documentsImage.png" alt="" />
          </div>
          <div class="container-text">
            <p>Sube fotos de documentos que prueben tu identidad</p>
          </div>
        </ion-row>
        <ion-row>
          <div class="image-container">
            <img src="assets/imagesIdvision/rostroImage.png" alt="" />
          </div>
          <div class="container-text">
            <p>Graba un video selfie mientras lees el texto en voz alta</p>
          </div>
        </ion-row>
      </ion-grid>
      <div class="fixed-footer">
        <ion-button class="custom-button" expand="block" (click)="handleClick()">Empecemos</ion-button>
      </div>
    </div>
  </swiper-slide>

  <!-- 游댳 PASOS INTERMEDIOS: Se generan din치micamente seg칰n el `order` -->
  <swiper-slide *ngFor="let step of validationConfig">
    <div class="content" [ngSwitch]="step.type">
      
      <!-- 游댳 DPI Frontal -->
      <div *ngSwitchCase="2">
        <div class="head">
          <h2>Coloca la parte frontal de tu DPI</h2>
          <p class="p-center p-info">Evita sombras, reflejos y coloca tu documento dentro del recuadro.</p>
        </div>
        <div class="dpi-container">
          <video autoplay loop muted playsinline width="1280" height="300">
            <source src="assets/imagesIdvision/Dpi-front.mp4" type="video/mp4">
          </video>
        </div>
        <div class="fixed-footer">
          <ion-button class="custom-button" expand="block" (click)="step.action()">Tomar una foto</ion-button>
        </div>
      </div>

      <!-- 游댳 DPI Trasero -->
      <div *ngSwitchCase="3">
        <div class="head">
          <h2>Coloca el reverso de tu DPI</h2>
          <p class="p-center p-info">Evita sombras, reflejos y coloca tu documento dentro del recuadro.</p>
        </div>
        <div class="dpi-container">
          <video autoplay loop muted playsinline width="1280" height="300">
            <source src="assets/imagesIdvision/Dpi-back.mp4" type="video/mp4">
          </video>
        </div>
        <div class="fixed-footer">
          <ion-button class="custom-button" expand="block" (click)="step.action()">Tomar una foto</ion-button>
        </div>
      </div>

      <!-- 游댳 Video Selfie -->
      <div *ngSwitchCase="4">
        <div class="head">
          <h2>Video Selfie</h2>
          <p class="p-justify">Graba un breve video para completar tu proceso de identificaci칩n.</p>
        </div>
        <ion-grid class="verify-container">
          <ion-row>
            <div class="image-container">
              <img src="assets/imagesIdvision/Foco.png" alt="" />
            </div>
            <div class="container-text">
              <p>Si est치s en interiores, aseg칰rate de que la luz est칠 frente a ti, no detr치s.</p>
            </div>
          </ion-row>
          <ion-row>
            <div class="image-container">
              <img src="assets/imagesIdvision/rostroImage.png" alt="" />
            </div>
            <div class="container-text">
              <p>Aseg칰rate de que tu rostro sea visible y de no usar anteojos ni sombreros.</p>
            </div>
          </ion-row>
        </ion-grid>
        <div class="fixed-footer">
          <ion-button class="custom-button" expand="block" (click)="step.action()">Abrir la c치mara</ion-button>
        </div>
      </div>

      <!-- 游댳 Caso por defecto (Error en configuraci칩n) -->
      <div *ngSwitchDefault>
        <h2>Paso desconocido</h2>
      </div>

    </div>
  </swiper-slide>

  <!-- 游댳 PASO FINAL: Confirmaci칩n (Est치tico) -->
  <swiper-slide>
    <div class="content">
      <ion-col class="col-confirmation" *ngIf="isValid">
        <ion-item color="white">
          <p class="font-confirmation">Informaci칩n procesada de manera correcta</p>
        </ion-item>
        <ion-item color="white" class="image-item">
          <img src="assets/imagesIdvision/blue-check.png" alt="" />
        </ion-item>
      </ion-col>
      <ion-col class="col-confirmation" *ngIf="!isValid">
        <ion-item color="white">
          <p class="font-confirmation">Ocurri칩 un error al procesar la informaci칩n</p>
        </ion-item>
        <ion-item color="white" class="image-item">
          <img src="assets/imagesIdvision/blue-check.png" alt="" />
        </ion-item>
      </ion-col>
      <ion-item color="white">
        <div class="fixed-footer">
          <ion-button class="custom-button" expand="block" (click)="handleExit()">Salir</ion-button>
        </div>
      </ion-item>
    </div>
  </swiper-slide>

</swiper-container>
